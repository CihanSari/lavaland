{"version":3,"sources":["../lavalandcommon/clientmessages.ts","../lavalandcommon/hostmessages.ts","../lavalandcommon/index.ts","../lavalandcommon/neighbors.ts","../lavalandcommon/tiletypes.ts","./$_lazy_route_resource lazy namespace object","./src/app/app.component.html","./src/app/lava-game-finish/lava-game-finish.component.html","./src/app/lava-header/lava-header.component.html","./src/app/lava-leaderboard/lava-leaderboard.component.html","./src/app/lava-notification/lava-notification.component.html","./src/app/lava-statistics/lava-statistics.component.html","./node_modules/tslib/tslib.es6.js","./src/app/app.component.css","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/backend.service.ts","./src/app/exit.ts","./src/app/isDebug.ts","./src/app/lava-game-finish/lava-game-finish.component.css","./src/app/lava-game-finish/lava-game-finish.component.ts","./src/app/lava-header/lava-header.component.css","./src/app/lava-header/lava-header.component.ts","./src/app/lava-leaderboard/lava-leaderboard.component.css","./src/app/lava-leaderboard/lava-leaderboard.component.ts","./src/app/lava-notification/lava-notification.component.css","./src/app/lava-notification/lava-notification.component.ts","./src/app/lava-statistics/lava-statistics.component.css","./src/app/lava-statistics/lava-statistics.component.ts","./src/app/lavastate.ts","./src/app/player.ts","./src/app/playerSpeed.ts","./src/app/speedboost.ts","./src/app/speedbump.ts","./src/app/touchableObject.ts","./src/app/turn.service.ts","./src/app/turnevent.ts","./src/app/wisp.ts","./src/environments/environment.ts","./src/lavacanvas/asset.ts","./src/lavacanvas/canvaseventhandler.ts","./src/lavacanvas/index.ts","./src/lavacanvas/lavacanvas.component.ts","./src/lavacanvas/lavacanvas.module.ts","./src/lavacanvas/lavacanvasinternal.service.ts","./src/lavacanvas/world2canvas.ts","./src/lavacanvas/worldobject.ts","./src/lavacanvas/worldobjectinternal.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["export enum ClientMessageReasons {\r\n  GameSessionRequest,\r\n  MapRequest,\r\n  MapFinished,\r\n  LeaderboardRequest\r\n}\r\n\r\nexport interface LavalandClientMessageBase {\r\n  gameId?: string;\r\n}\r\n\r\nexport interface GameSessionRequest extends LavalandClientMessageBase {\r\n  gameId?: never;\r\n}\r\n\r\nexport interface MapFinished extends LavalandClientMessageBase {\r\n  gameId: string;\r\n  duration: number;\r\n  name: string;\r\n  finishMethod: \"Gate\" | \"Wisps\" | \"Debug\";\r\n}\r\n\r\nexport interface LeaderboardRequest extends LavalandClientMessageBase {\r\n  gameId?: never;\r\n  finishMethod: \"Gate\" | \"Wisps\" | \"Debug\";\r\n}\r\n\r\nexport type LavalandClientMessage =\r\n  | GameSessionRequest\r\n  | MapFinished\r\n  | LeaderboardRequest;\r\n\r\n\r\nexport const apiPaths = {\r\n  [ClientMessageReasons.GameSessionRequest]: \"api/gamesession\",\r\n  [ClientMessageReasons.LeaderboardRequest]: \"api/leaderboard\",\r\n  [ClientMessageReasons.MapFinished]: \"api/mapfinished\"\r\n};","import { WorldCoordinates, GameMap } from \"./worldcoordinates\";\r\n\r\nexport enum HostMessageReasons {\r\n  GameSessionRequestResponse,\r\n  MapFinishedResponse,\r\n  GameNotFound,\r\n  LeaderboardResponse\r\n}\r\n\r\nexport interface LavalandHostMessageBase {\r\n  messageType: HostMessageReasons;\r\n}\r\n\r\nexport interface GameSessionRequestResponse extends LavalandHostMessageBase {\r\n  messageType: HostMessageReasons.GameSessionRequestResponse;\r\n  gameId: string;\r\n  gameMap: GameMap;\r\n}\r\n\r\nexport interface GameNotFound extends LavalandHostMessageBase {\r\n  messageType: HostMessageReasons.GameNotFound;\r\n  gameId: string;\r\n}\r\n\r\nexport interface MapFinishedResponse extends LavalandHostMessageBase {\r\n  messageType: HostMessageReasons.MapFinishedResponse;\r\n  gameId: string;\r\n  leaderboard: {name:string, duration: number}[];\r\n  rank: number,\r\n  finishMethod: \"Gate\" | \"Wisps\" | \"Debug\";\r\n}\r\n\r\nexport interface LeaderboardResponse extends LavalandHostMessageBase {\r\n  messageType: HostMessageReasons.LeaderboardResponse;\r\n  leaderboard: {name:string, duration: number}[];\r\n  duration: number;\r\n  finishMethod: \"Gate\" | \"Wisps\" | \"Debug\";\r\n}\r\n\r\nexport type LavalandHostMessage =\r\n  | GameSessionRequestResponse\r\n  | MapFinishedResponse\r\n  | GameNotFound\r\n  | LeaderboardResponse;\r\n","export * from \"./clientmessages\";\r\nexport * from \"./hostmessages\";\r\nexport * from \"./neighbors\";\r\nexport * from \"./tiletypes\";\r\nexport * from \"./worldcoordinates\";\r\n","export class Neighbors<T> {\r\n  constructor(\r\n    readonly north: T,\r\n    readonly northEast: T,\r\n    readonly east: T,\r\n    readonly southEast: T,\r\n    readonly south: T,\r\n    readonly southWest: T,\r\n    readonly west: T,\r\n    readonly northWest: T\r\n  ) {}\r\n\r\n  compare(other: Neighbors<T>) {\r\n    if (other.north != this.north) {\r\n      return false;\r\n    } else if (other.northEast != this.northEast) {\r\n      return false;\r\n    } else if (other.east != this.east) {\r\n      return false;\r\n    } else if (other.southEast != this.southEast) {\r\n      return false;\r\n    } else if (other.south != this.south) {\r\n      return false;\r\n    } else if (other.southWest != this.southWest) {\r\n      return false;\r\n    } else if (other.west != this.west) {\r\n      return false;\r\n    } else if (other.northWest != this.northWest) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  to8Array() {\r\n    return [\r\n      this.north,\r\n      this.northEast,\r\n      this.east,\r\n      this.southEast,\r\n      this.south,\r\n      this.southWest,\r\n      this.west,\r\n      this.northWest\r\n    ];\r\n  }\r\n\r\n  to4Array() {\r\n    return [this.north, this.east, this.south, this.west];\r\n  }\r\n}\r\n","export enum TileType {\r\n  Water = 0,\r\n  Land = 1,\r\n  Lava = 2,\r\n  Count = 3\r\n}\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<lavaheader class=\\\"header lavatextFields\\\"></lavaheader>\\r\\n\\r\\n<lavastatistics class=\\\"statistics lavatextFields\\\" [remainingWisps]=\\\"totalNumberOfWisps-numberOfWispsCaught\\\" [currentSpeed]=\\\"player.currentSpeed\\\"\\r\\n  [currentRadius]=\\\"currentRadius()\\\" [numberOfSeconds]=\\\"secondsPassed\\\"></lavastatistics>\\r\\n<lavaCanvas class=\\\"fullScreen\\\" [settings]=\\\"mapSettings\\\" [player]=\\\"player\\\" [objects]=\\\"objects\\\" (mapDragRequest)=\\\"currentPlayerMovementRequest($event)\\\"></lavaCanvas>\\r\\n<lavanotification class=\\\"notification lavatextFields\\\" *ngIf=\\\"notificationText.length>0\\\" [notificationText]=\\\"notificationText\\\"></lavanotification>\\r\\n\"","export default \"<h1 mat-dialog-title>Congratulations</h1>\\r\\n<div mat-dialog-content>\\r\\n  <h3>You have won in {{data.time}} seconds!</h3>\\r\\n  <h3>Enter name for leaderboard?</h3>\\r\\n  <mat-form-field>\\r\\n    <input #nameField matInput [(ngModel)]=\\\"data.name\\\" placeholder=\\\"Name\\\" pattern=\\\"[A-Za-z0-9]{3,}\\\" (input)=\\\"checkName()\\\" required>\\r\\n  </mat-form-field>\\r\\n  <p *ngIf=\\\"invalidName\\\">At least three English characters.</p>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-flat-button color=\\\"warn\\\" (click)=\\\"onNoClick()\\\">No Thanks</button>\\r\\n  <button mat-flat-button [disabled]=\\\"invalidName\\\" cdkFocusInitial (click)=\\\"ok()\\\">Ok</button>\\r\\n</div>\\r\\n\"","export default \"<h1>Lava Land</h1>\\r\\n\"","export default \"<h1 mat-dialog-title>Leaderboards</h1>\\r\\n<ol>\\r\\n  <li *ngFor=\\\"let entry of data\\\">\\r\\n    {{entry.name}} ({{entry.duration}} seconds)\\r\\n  </li>\\r\\n</ol>\\r\\n\"","export default \"<p *ngFor=\\\"let text of notificationText\\\">{{text}}</p>\\r\\n\"","export default \"<div class=\\\"sidenav\\\">\\r\\n  <table>\\r\\n    <tr>\\r\\n      <td class=\\\"title\\\">Remaining</td>\\r\\n      <td class=\\\"value\\\">{{remainingWisps}}</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"title\\\">Time</td>\\r\\n      <td class=\\\"value\\\">{{numberOfSeconds}}s</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"title\\\">Speed</td>\\r\\n      <td class=\\\"value\\\">{{currentSpeed}}%</td>\\r\\n    </tr>\\r\\n    <tr>\\r\\n      <td class=\\\"title\\\">Power</td>\\r\\n      <td class=\\\"value\\\">{{currentRadius}}</td>\\r\\n    </tr>\\r\\n  </table>\\r\\n</div>\\r\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export default \"@import url(//fonts.googleapis.com/css?family=Caveat);\\r\\nbody {\\r\\n  color: rgb(212, 0, 212);\\r\\n  text-shadow: 2px 2px rgb(0, 0, 0);\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n}\\r\\n.header {\\r\\n  position: fixed;\\r\\n  z-index: 1;\\r\\n  top: 0;\\r\\n  left: 35%;\\r\\n  right: 35%;\\r\\n}\\r\\n.statistics {\\r\\n  position: fixed;\\r\\n  z-index: 1;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n}\\r\\n.notification {\\r\\n  position: fixed;\\r\\n  z-index: 1;\\r\\n  bottom: 0;\\r\\n  left: 20%;\\r\\n  right: 20%;\\r\\n}\\r\\n.lavatextFields {\\r\\n  pointer-events: none;\\r\\n  -webkit-user-select: none;\\r\\n     -moz-user-select: none;\\r\\n      -ms-user-select: none;\\r\\n          user-select: none;\\r\\n}\\r\\n.fullScreen {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  position: absolute;\\r\\n  display: flex;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEO0FBQ3JEO0VBQ0UsdUJBQXVCO0VBQ3ZCLGlDQUFpQztFQUNqQyw4QkFBOEI7QUFDaEM7QUFFQTtFQUNFLGVBQWU7RUFDZixVQUFVO0VBQ1YsTUFBTTtFQUNOLFNBQVM7RUFDVCxVQUFVO0FBQ1o7QUFFQTtFQUNFLGVBQWU7RUFDZixVQUFVO0VBQ1YsU0FBUztFQUNULE9BQU87QUFDVDtBQUVBO0VBQ0UsZUFBZTtFQUNmLFVBQVU7RUFDVixTQUFTO0VBQ1QsU0FBUztFQUNULFVBQVU7QUFDWjtBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLHlCQUFpQjtLQUFqQixzQkFBaUI7TUFBakIscUJBQWlCO1VBQWpCLGlCQUFpQjtBQUNuQjtBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLE9BQU87RUFDUCxNQUFNO0FBQ1IiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKC8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1DYXZlYXQpO1xyXG5ib2R5IHtcclxuICBjb2xvcjogcmdiKDIxMiwgMCwgMjEyKTtcclxuICB0ZXh0LXNoYWRvdzogMnB4IDJweCByZ2IoMCwgMCwgMCk7XHJcbiAgZm9udC1mYW1pbHk6IFwiQ2F2ZWF0XCIsIGN1cnNpdmU7XHJcbn1cclxuXHJcbi5oZWFkZXIge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB6LWluZGV4OiAxO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAzNSU7XHJcbiAgcmlnaHQ6IDM1JTtcclxufVxyXG5cclxuLnN0YXRpc3RpY3Mge1xyXG4gIHBvc2l0aW9uOiBmaXhlZDtcclxuICB6LWluZGV4OiAxO1xyXG4gIGJvdHRvbTogMDtcclxuICBsZWZ0OiAwO1xyXG59XHJcblxyXG4ubm90aWZpY2F0aW9uIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgei1pbmRleDogMTtcclxuICBib3R0b206IDA7XHJcbiAgbGVmdDogMjAlO1xyXG4gIHJpZ2h0OiAyMCU7XHJcbn1cclxuXHJcbi5sYXZhdGV4dEZpZWxkcyB7XHJcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5mdWxsU2NyZWVuIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgbGVmdDogMDtcclxuICB0b3A6IDA7XHJcbn1cclxuIl19 */\"","import { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { GameMap, WorldCoordinates } from '../../../lavalandcommon';\r\nimport { MatDialog } from '../../node_modules/@angular/material';\r\nimport * as LavaCanvas from '../lavacanvas';\r\nimport { WorldObject } from '../lavacanvas/worldobject';\r\nimport { BackendService } from './backend.service';\r\nimport { ExitPortal } from './exit';\r\nimport { isDebug } from './isDebug';\r\nimport { LavaGameFinishComponent } from './lava-game-finish/lava-game-finish.component';\r\nimport { LavaLeaderboardComponent, LeaderboardData } from './lava-leaderboard/lava-leaderboard.component';\r\nimport { LavaState } from './lavastate';\r\nimport { PlayerObject } from './player';\r\nimport { SpeedBoost } from './speedboost';\r\nimport { SpeedBump } from './speedbump';\r\nimport { TurnService } from './turn.service';\r\nimport { TurnEventSubscription } from './turnevent';\r\nimport { Wisp } from './wisp';\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n  styleUrls: [\"./app.component.css\"],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class LavaLandComponent implements OnInit {\r\n  // Map objects\r\n  public player: PlayerObject = null;\r\n  public objects: WorldObject[] = [];\r\n\r\n  private mapWisps: Wisp[] = [];\r\n  private mapSpeedBoosters: SpeedBoost[] = [];\r\n  private mapSpeedBumps: SpeedBump[] = [];\r\n  private exitPortalsHidden: ExitPortal[] = [];\r\n  private exitPortalsOpened: ExitPortal[] = [];\r\n  // This game's details\r\n  public gameState = new BehaviorSubject<LavaState>(LavaState.Starting);\r\n  public startTime = new Date();\r\n  public secondsPassed = 0;\r\n\r\n  // Player statistics\r\n  public totalNumberOfWisps = 20;\r\n  public numberOfWispsCaught = 0;\r\n  private playerInfluenceRadius = 1;\r\n  // Notification text\r\n  public notificationText: string[] = [];\r\n\r\n  public mapSettings: LavaCanvas.MapSettings;\r\n  @ViewChild(\"canvasContainer\", { read: ElementRef, static: false }) screenCanvas: ElementRef;\r\n\r\n  constructor(private turnService: TurnService,\r\n    private backendService: BackendService,\r\n    public dialog: MatDialog) {\r\n    this.player = new PlayerObject(new LavaCanvas.Asset(\r\n      \"/assets/characters/ralph.png\", LavaCanvas.AssetColor.OriginalColor,\r\n      { x: 1, y: 2 }));\r\n  }\r\n  public async ngOnInit() {\r\n    //--------------------------------------------------------\r\n    // ***                                                ***\r\n    //\r\n    //                  Connect to backend\r\n    //\r\n    // ***                                                ***\r\n    //--------------------------------------------------------\r\n    this.backendService.$map.subscribe(\r\n      map => this.onMapReceived(map),\r\n      exception => {\r\n        if (isDebug()) {\r\n          console.warn(\"[LavaLandComponent] Map error!\");\r\n          console.error(exception);\r\n        }\r\n      },\r\n      () => {\r\n        if (isDebug()) {\r\n          console.warn(\"[LavaLandComponent] Map subscription completed!\");\r\n        }\r\n      });\r\n\r\n    this.backendService.$leaderboard.subscribe(\r\n      leaderboard => this.showLeaderboard(leaderboard));\r\n  }\r\n\r\n  private async onMapReceived(map: GameMap) {\r\n    //--------------------------------------------------------\r\n    // ***                                                ***\r\n    //\r\n    //                  Populate map tiles\r\n    //\r\n    // ***                                                ***\r\n    //--------------------------------------------------------\r\n\r\n    this.mapSettings = {\r\n      assets: [\r\n        new LavaCanvas.Asset(\"/assets/maptiles/water.png\"),\r\n        new LavaCanvas.Asset(\"/assets/maptiles/land.png\"),\r\n        new LavaCanvas.Asset(\"/assets/maptiles/lava.png\")\r\n      ],\r\n      map\r\n    };\r\n\r\n    //--------------------------------------------------------\r\n    // ***                                                ***\r\n    //\r\n    //                  Populate map players and objects\r\n    //\r\n    // ***                                                ***\r\n    //--------------------------------------------------------\r\n\r\n    for (let i = 0; i < this.totalNumberOfWisps; i += 1) {\r\n      this.mapWisps.push(new Wisp(new LavaCanvas.Asset(\r\n        \"/assets/characters/wisp.png\", LavaCanvas.AssetColor.RandomColor,\r\n        { x: 1, y: 2 })));\r\n    }\r\n    for (let i = 0; i < 20; i += 1) {\r\n      this.mapSpeedBoosters.push(new SpeedBoost(\r\n        new LavaCanvas.Asset(\"/assets/resources/GoodMushroom.png\",\r\n          LavaCanvas.AssetColor.OriginalColor)));\r\n    }\r\n    for (let i = 0; i < 10; i += 1) {\r\n      this.mapSpeedBumps.push(new SpeedBump(\r\n        new LavaCanvas.Asset(\"/assets/resources/RedMushroom.png\",\r\n          LavaCanvas.AssetColor.OriginalColor)));\r\n    }\r\n    for (let i = 0; i < 10; i += 1) {\r\n      const exitPortalObject = new ExitPortal(new LavaCanvas.Asset(\r\n        \"/assets/resources/exitPortal.png\",\r\n        LavaCanvas.AssetColor.OriginalColor, { x: 1, y: 2 }));\r\n      exitPortalObject.setHidden();\r\n      this.exitPortalsHidden.push(exitPortalObject);\r\n    }\r\n\r\n    this.objects = [\r\n      ...this.mapWisps,\r\n      ...this.mapSpeedBoosters,\r\n      ...this.mapSpeedBumps,\r\n      ...this.exitPortalsHidden,\r\n      ...this.exitPortalsOpened\r\n    ];\r\n\r\n    this.turnService.register(new TurnEventSubscription(20, () => {\r\n      this.checkWispsCloseToRalph();\r\n      this.checkSpeedBoostsCloseToRalph();\r\n      this.checkSpeedBumpsCloseToRalph();\r\n      this.checkExitPortalCloseToRalph();\r\n    }));\r\n\r\n    //--------------------------------------------------------\r\n    // ***                                                ***\r\n    //\r\n    //  Update number of seconds passed\r\n    //\r\n    // ***                                                ***\r\n    //--------------------------------------------------------\r\n    this.turnService.register(new TurnEventSubscription(1, event => {\r\n      // Update the time if game hasn't finished\r\n      if (this.gameState.getValue() !== LavaState.CaughtAllWisps &&\r\n        this.gameState.getValue() !== LavaState.GotOutWithMinRequiredWisps) {\r\n        this.secondsPassed = Math.round(\r\n          (new Date().getTime() - this.startTime.getTime()) / 1000);\r\n      } else {\r\n        event.unsubscribe();\r\n      }\r\n    }));\r\n\r\n    //--------------------------------------------------------\r\n    // ***                                                ***\r\n    //\r\n    //  Set up notifications\r\n    //\r\n    // ***                                                ***\r\n    //--------------------------------------------------------\r\n    let previousState = this.gameState.getValue();\r\n    this.gameState.subscribe((currentState: LavaState) => {\r\n      switch (currentState) {\r\n        case LavaState.Started:\r\n          this.addNotification([\r\n            \"Touch forest wisps to gather their power. Use it to open a portal out of lava land.\",\r\n            \"Brown mushrooms give you swiftness while red mushrooms sap your speed.\"\r\n          ]);\r\n          break;\r\n        case LavaState.CaughtMinRequiredWisps:\r\n          if (previousState !== currentState) {\r\n            this.addNotification([\r\n              \"You have opened the portal in an unknown location!\",\r\n              \"Find it to escape the lava land.\"\r\n            ]);\r\n          }\r\n          break;\r\n        case LavaState.CaughtAllWisps:\r\n          this.addNotification([\r\n            \"Congratulations.\",\r\n            \"You have harnassed all the power of the lava land in \" +\r\n            this.secondsPassed + \" seconds.\"\r\n          ]);\r\n          this.gameOver(\"Wisps\");\r\n          break;\r\n        case LavaState.GotOutWithMinRequiredWisps:\r\n          this.addNotification([\r\n            \"Congratulations.\",\r\n            \"You have successfully escaped the lava land in \" +\r\n            this.secondsPassed + \" seconds.\"\r\n          ]);\r\n          this.gameOver(\"Gate\");\r\n          break;\r\n      }\r\n      previousState = currentState;\r\n    });\r\n\r\n    //--------------------------------------------------------\r\n    // ***                                                ***\r\n    //\r\n    //                  Move player with game engine\r\n    //\r\n    // ***                                                ***\r\n    //--------------------------------------------------------\r\n    this.turnService.register(new TurnEventSubscription(\r\n      1, async (_subscriptionEvent: TurnEventSubscription) => {\r\n        this.player.moveA();\r\n      }));\r\n    // this.playerSpeed.maxSpeed.subscribe((currentSpeed: number) => {\r\n    //   if (currentSpeed > 0) {\r\n    //     this.currentSpeed =\r\n    //       Math.round(this.playerSpeed.maxSpeed.getValue() * 1000) / 10;\r\n    //   }\r\n    // });\r\n\r\n    // Start the game!\r\n    this.gameState.next(LavaState.Started);\r\n\r\n    if (isDebug()) {\r\n      this.gameOver(\"Debug\");\r\n    }\r\n  }\r\n\r\n  public currentPlayerMovementRequest(event: {\r\n    world: WorldCoordinates;\r\n    canvas: WorldCoordinates;\r\n  }): void {\r\n    this.player.queueMoveTo(event);\r\n  }\r\n\r\n  private async startGame() { }\r\n\r\n  private addObjectToMap<T>(TConstructor: { new(ass: LavaCanvas.Asset): T; },\r\n    url: string,\r\n    assetColor = LavaCanvas.AssetColor.OriginalColor,\r\n    displaySize: WorldCoordinates = { x: 1, y: 1 }): T {\r\n    return new TConstructor(new LavaCanvas.Asset(url, assetColor, displaySize));\r\n  }\r\n\r\n  private async checkSpeedBoostsCloseToRalph() {\r\n    for (let boost of this.mapSpeedBoosters) {\r\n      if ((await boost.checkIfCouldTouch(\r\n        await this.player.getCoordinate(), this.playerInfluenceRadius,\r\n        this.playerInfluenceRadius)) === true) {\r\n        boost.performTouch();\r\n        this.player.playerSpeed.speedBoost();\r\n      }\r\n    }\r\n  }\r\n\r\n  private async checkSpeedBumpsCloseToRalph() {\r\n    for (let speedBump of this.mapSpeedBumps) {\r\n      if ((await speedBump.checkIfCouldTouch(await this.player.getCoordinate(),\r\n        1, 1)) === true) {\r\n        // console.log(`Speed bump!`);\r\n        speedBump.performTouch();\r\n        this.player.playerSpeed.speedBump();\r\n      }\r\n    }\r\n  }\r\n\r\n  private async checkExitPortalCloseToRalph() {\r\n    if (this.gameState.getValue() === LavaState.CaughtMinRequiredWisps) {\r\n      for (let exitPortal of this.exitPortalsOpened) {\r\n        if ((await exitPortal.checkIfCouldTouch(\r\n          await this.player.getCoordinate(), 1, 1)) === true) {\r\n          this.gameState.next(LavaState.GotOutWithMinRequiredWisps);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private checkWispsCloseToRalph() {\r\n    for (let wisp of this.mapWisps) {\r\n      this.checkWispCloseToRalph(wisp);\r\n    }\r\n  }\r\n\r\n  private async checkWispCloseToRalph(wisp: Wisp) {\r\n    if ((await wisp.checkIfCouldCatch(this.player.getCoordinate(),\r\n      this.playerInfluenceRadius,\r\n      this.playerInfluenceRadius)) === true) {\r\n      this.caughtWisp(wisp);\r\n    }\r\n  }\r\n\r\n  private caughtWisp(wisp: Wisp) {\r\n    if (wisp.performCatch()) {\r\n      if (this.gameState.getValue() === LavaState.Started) {\r\n        this.gameState.next(LavaState.CaughtWisp);\r\n      }\r\n      this.numberOfWispsCaught += 1;\r\n      if (isDebug()) {\r\n        if (this.numberOfWispsCaught > 1) {\r\n          this.gameState.next(LavaState.CaughtAllWisps);\r\n        } else if (true) {\r\n          this.gameState.next(LavaState.CaughtMinRequiredWisps);\r\n          for (let i = 0; i < 5; i += 1) {\r\n            const exitPortal = this.exitPortalsHidden.pop();\r\n            exitPortal.setShown();\r\n            this.exitPortalsOpened.push(exitPortal);\r\n          }\r\n        }\r\n      } else if (this.numberOfWispsCaught === this.mapWisps.length) {\r\n        this.gameState.next(LavaState.CaughtAllWisps);\r\n      } else if (this.numberOfWispsCaught > 0.6 * this.mapWisps.length) {\r\n        this.gameState.next(LavaState.CaughtMinRequiredWisps);\r\n        const exitPortal = this.exitPortalsHidden.pop();\r\n        exitPortal.setShown();\r\n        this.exitPortalsOpened.push(exitPortal);\r\n      }\r\n    }\r\n    if (this.playerInfluenceRadius < 5) {\r\n      const newInfluenceRadius =\r\n        Math.floor(100 * Math.min(this.playerInfluenceRadius * 1.1, 5)) / 100;\r\n      const diff = newInfluenceRadius - this.playerInfluenceRadius;\r\n      this.turnService.register(new TurnEventSubscription(1000, sub => {\r\n        sub.unsubscribe();\r\n        if (this.playerInfluenceRadius >= 1) {\r\n          this.playerInfluenceRadius -= diff;\r\n        }\r\n      }));\r\n      this.playerInfluenceRadius += diff;\r\n    }\r\n  }\r\n\r\n  public currentRadius() {\r\n    return Math.floor(this.playerInfluenceRadius * 10) / 10;\r\n  }\r\n\r\n  public addNotification(texts: string[]) {\r\n    if (texts.length > 0) {\r\n      this.notificationText.push(...texts);\r\n      this.turnService.register(new TurnEventSubscription(1000, event => {\r\n        const i = this.notificationText.indexOf(texts[0]);\r\n        this.notificationText.splice(i, texts.length);\r\n        event.unsubscribe();\r\n      }));\r\n    }\r\n  }\r\n\r\n  private gameOver(finishMethod: \"Gate\" | \"Wisps\" | \"Debug\") {\r\n    let name: string;\r\n    if (finishMethod !== \"Debug\") {\r\n      this.player.playerSpeed.stop();\r\n    }\r\n    const dialogRef = this.dialog.open(\r\n      LavaGameFinishComponent,\r\n      { width: \"600px\", data: { name, time: this.secondsPassed } });\r\n\r\n    dialogRef.afterClosed().subscribe(name => {\r\n      this.backendService.gameOver(name, this.secondsPassed, finishMethod);\r\n    });\r\n  }\r\n\r\n  public showLeaderboard(leaderboard: LeaderboardData) {\r\n    const dialogRef = this.dialog.open(LavaLeaderboardComponent,\r\n      { width: \"600px\", data: leaderboard });\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\n// import { AppRoutingModule } from './app-routing.module';\r\nimport { LavaLandComponent } from './app.component';\r\nimport { LavaStatisticsComponent } from './lava-statistics/lava-statistics.component';\r\nimport { LavaNotificationComponent } from './lava-notification/lava-notification.component';\r\nimport { LavaHeaderComponent } from './lava-header/lava-header.component';\r\nimport { LavaGameFinishComponent } from './lava-game-finish/lava-game-finish.component';\r\nimport { LavaLeaderboardComponent } from './lava-leaderboard/lava-leaderboard.component';\r\nimport { TurnService } from './turn.service';\r\nimport { BackendService } from './backend.service';\r\nimport { LavaCanvasModule } from \"../lavacanvas/lavacanvas.module\";\r\nimport { MatDialogModule, MatInputModule, MatButtonModule } from '@angular/material';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LavaLandComponent,\r\n    LavaStatisticsComponent,\r\n    LavaNotificationComponent,\r\n    LavaHeaderComponent,\r\n    LavaGameFinishComponent,\r\n    LavaLeaderboardComponent\r\n  ],\r\n  entryComponents: [LavaGameFinishComponent, LavaLeaderboardComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    LavaCanvasModule,\r\n    MatDialogModule,\r\n    FormsModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n  ],\r\n  providers: [TurnService, BackendService],\r\n  bootstrap: [LavaLandComponent]\r\n})\r\nexport class AppModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  ClientMessageReasons,\r\n  GameMap,\r\n  GameSessionRequestResponse,\r\n  MapFinished,\r\n  MapFinishedResponse,\r\n} from '../../../lavalandcommon';\r\nimport { isDebug } from './isDebug';\r\nimport { LeaderboardData } from './lava-leaderboard/lava-leaderboard.component';\r\n\r\nconst devModeApiPaths = {\r\n  [ClientMessageReasons.GameSessionRequest]: \"http://localhost:8080/api/gamesession/\",\r\n  [ClientMessageReasons.LeaderboardRequest]: \"http://localhost:8080/api/leaderboard/\",\r\n  [ClientMessageReasons.MapFinished]: \"http://localhost:8080/api/mapfinished/\",\r\n};\r\nconst productionApiPaths = {\r\n  [ClientMessageReasons.GameSessionRequest]: \"/api/gamesession/\",\r\n  [ClientMessageReasons.LeaderboardRequest]: \"/api/leaderboard/\",\r\n  [ClientMessageReasons.MapFinished]: \"/api/mapfinished/\",\r\n}\r\nconst apiPaths = isDebug() ? devModeApiPaths : productionApiPaths;\r\n\r\n@Injectable()\r\nexport class BackendService {\r\n  private gameId: string = null;\r\n  private map: Subject<GameMap> = new Subject();\r\n  private leaderboard: Subject<LeaderboardData> = new Subject();\r\n  readonly $map = this.map.asObservable();\r\n  readonly $leaderboard = this.leaderboard.asObservable();\r\n  constructor(private http: HttpClient) {\r\n    this.initGameSession();\r\n  }\r\n\r\n  private async initGameSession() {\r\n    const response = await fetch(apiPaths[ClientMessageReasons.GameSessionRequest]);\r\n    const gameSessionRequestResponse: GameSessionRequestResponse = await response.json();\r\n    console.log('initGameSession', gameSessionRequestResponse);\r\n    this.gameId = gameSessionRequestResponse.gameId;\r\n    this.map.next(gameSessionRequestResponse.gameMap);\r\n  }\r\n\r\n  public async gameOver(\r\n    name: string,\r\n    duration: number,\r\n    finishMethod: \"Gate\" | \"Wisps\" | \"Debug\"\r\n  ) {\r\n    const mapFinishedRequest: MapFinished = {\r\n      duration,\r\n      finishMethod,\r\n      gameId: this.gameId,\r\n      name\r\n    };\r\n    console.log(mapFinishedRequest)\r\n    const mapFinishedResponse = await this.http.post<MapFinishedResponse>(apiPaths[ClientMessageReasons.MapFinished], mapFinishedRequest).toPromise();\r\n    this.leaderboard.next(mapFinishedResponse.leaderboard);\r\n  }\r\n}\r\n","import { TouchableObject } from \"./touchableObject\";\r\nimport { WorldObjectInternal } from \"../lavacanvas/worldobjectinternal\";\r\nimport * as LavaCanvas from \"../lavacanvas\";\r\n\r\nexport class ExitPortal extends TouchableObject {\r\n  constructor(asset: LavaCanvas.Asset) {\r\n    super(asset);\r\n    const oldInit = this.oninit;\r\n    this.oninit = obj => {\r\n      if (oldInit != null) {\r\n        oldInit(obj);\r\n      }\r\n      obj.hidden = true;\r\n    };\r\n  }\r\n\r\n  public setShown() {\r\n    this.onturn = obj => {\r\n      obj.hidden = false;\r\n      this.onturn = undefined;\r\n    };\r\n  }\r\n  public setHidden() {\r\n    this.onturn = obj => {\r\n      obj.hidden = true;\r\n      this.onturn = undefined;\r\n    };\r\n  }\r\n}\r\n","export function isDebug() {\r\n    return false;\r\n}","export default \"@import url(//fonts.googleapis.com/css?family=Caveat);\\r\\n:host {\\r\\n  border-width: 1px;\\r\\n  margin: 0;\\r\\n  color: rgb(75, 3, 75);\\r\\n  font-size: 2.5vw;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n}\\r\\nh1 {\\r\\n  text-align: center;\\r\\n  font-size: 4vw;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n}\\r\\nh3 {\\r\\n  font-size: 2vw;\\r\\n  font-family: \\\"Helvetica Neue\\\", sans-serif;\\r\\n}\\r\\np {\\r\\n  color: darkred;\\r\\n  font-size: 1.5vw;\\r\\n  font-family: \\\"Helvetica Neue\\\", sans-serif;\\r\\n}\\r\\n@media screen and (min-width: 1000px) {\\r\\n  :host {\\r\\n    font-size: 25px;\\r\\n  }\\r\\n  h1 {\\r\\n    font-size: 40px;\\r\\n  }\\r\\n  h3 {\\r\\n    font-size: 20px;\\r\\n  }\\r\\n  p {\\r\\n    font-size: 15px;\\r\\n  }\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF2YS1nYW1lLWZpbmlzaC9sYXZhLWdhbWUtZmluaXNoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEO0FBQ3JEO0VBQ0UsaUJBQWlCO0VBQ2pCLFNBQVM7RUFDVCxxQkFBcUI7RUFDckIsZ0JBQWdCO0VBQ2hCLDhCQUE4QjtBQUNoQztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCw4QkFBOEI7QUFDaEM7QUFFQTtFQUNFLGNBQWM7RUFDZCx5Q0FBeUM7QUFDM0M7QUFFQTtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIseUNBQXlDO0FBQzNDO0FBRUE7RUFDRTtJQUNFLGVBQWU7RUFDakI7RUFDQTtJQUNFLGVBQWU7RUFDakI7RUFDQTtJQUNFLGVBQWU7RUFDakI7RUFDQTtJQUNFLGVBQWU7RUFDakI7QUFDRiIsImZpbGUiOiJzcmMvYXBwL2xhdmEtZ2FtZS1maW5pc2gvbGF2YS1nYW1lLWZpbmlzaC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCB1cmwoLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PUNhdmVhdCk7XHJcbjpob3N0IHtcclxuICBib3JkZXItd2lkdGg6IDFweDtcclxuICBtYXJnaW46IDA7XHJcbiAgY29sb3I6IHJnYig3NSwgMywgNzUpO1xyXG4gIGZvbnQtc2l6ZTogMi41dnc7XHJcbiAgZm9udC1mYW1pbHk6IFwiQ2F2ZWF0XCIsIGN1cnNpdmU7XHJcbn1cclxuXHJcbmgxIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZm9udC1zaXplOiA0dnc7XHJcbiAgZm9udC1mYW1pbHk6IFwiQ2F2ZWF0XCIsIGN1cnNpdmU7XHJcbn1cclxuXHJcbmgzIHtcclxuICBmb250LXNpemU6IDJ2dztcclxuICBmb250LWZhbWlseTogXCJIZWx2ZXRpY2EgTmV1ZVwiLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG5wIHtcclxuICBjb2xvcjogZGFya3JlZDtcclxuICBmb250LXNpemU6IDEuNXZ3O1xyXG4gIGZvbnQtZmFtaWx5OiBcIkhlbHZldGljYSBOZXVlXCIsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMDBweCkge1xyXG4gIDpob3N0IHtcclxuICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICB9XHJcbiAgaDEge1xyXG4gICAgZm9udC1zaXplOiA0MHB4O1xyXG4gIH1cclxuICBoMyB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgfVxyXG4gIHAge1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, Inject, ElementRef, ViewChild } from \"@angular/core\";\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\r\nexport interface GameFinishedData {\r\n  name: string;\r\n  time: number;\r\n}\r\n@Component({\r\n  selector: \"lava-game-finish\",\r\n  templateUrl: \"./lava-game-finish.component.html\",\r\n  styleUrls: [\"./lava-game-finish.component.css\"]\r\n})\r\nexport class LavaGameFinishComponent {\r\n  public invalidName = true;\r\n  @ViewChild(\"nameField\", { static: true }) nameField: ElementRef;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<LavaGameFinishComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: GameFinishedData\r\n  ) {\r\n    dialogRef.disableClose = true;\r\n  }\r\n\r\n  public onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  public checkName(): void {\r\n    const inputElement = this.nameField.nativeElement as HTMLInputElement;\r\n    if (inputElement.value.length > 0) {\r\n      this.invalidName = !(this.nameField\r\n        .nativeElement as HTMLInputElement).checkValidity();\r\n    } else {\r\n      this.invalidName = true;\r\n    }\r\n  }\r\n\r\n  public ok(): void {\r\n    this.dialogRef.close(this.data.name);\r\n  }\r\n}\r\n","export default \"@import url(//fonts.googleapis.com/css?family=Caveat);\\r\\n:host {\\r\\n  border-width: 1px;\\r\\n  margin: 0;\\r\\n  color: rgb(223, 183, 223);\\r\\n  font-size: 3.5vw;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n  text-shadow: 2px 2px rgb(0, 0, 0);\\r\\n}\\r\\nh1,\\r\\n.h1 {\\r\\n  text-align: center;\\r\\n  margin: 0;\\r\\n}\\r\\n@media screen and (min-width: 1000px) {\\r\\n  :host {\\r\\n    font-size: 35px;\\r\\n  }\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF2YS1oZWFkZXIvbGF2YS1oZWFkZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxREFBcUQ7QUFDckQ7RUFDRSxpQkFBaUI7RUFDakIsU0FBUztFQUNULHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsOEJBQThCO0VBQzlCLGlDQUFpQztBQUNuQztBQUNBOztFQUVFLGtCQUFrQjtFQUNsQixTQUFTO0FBQ1g7QUFFQTtFQUNFO0lBQ0UsZUFBZTtFQUNqQjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbGF2YS1oZWFkZXIvbGF2YS1oZWFkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKC8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1DYXZlYXQpO1xyXG46aG9zdCB7XHJcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGNvbG9yOiByZ2IoMjIzLCAxODMsIDIyMyk7XHJcbiAgZm9udC1zaXplOiAzLjV2dztcclxuICBmb250LWZhbWlseTogXCJDYXZlYXRcIiwgY3Vyc2l2ZTtcclxuICB0ZXh0LXNoYWRvdzogMnB4IDJweCByZ2IoMCwgMCwgMCk7XHJcbn1cclxuaDEsXHJcbi5oMSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbjogMDtcclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTAwMHB4KSB7XHJcbiAgOmhvc3Qge1xyXG4gICAgZm9udC1zaXplOiAzNXB4O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"lavaheader\",\r\n  templateUrl: \"./lava-header.component.html\",\r\n  styleUrls: [\"./lava-header.component.css\"]\r\n})\r\nexport class LavaHeaderComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","export default \"@import url(//fonts.googleapis.com/css?family=Caveat);\\r\\n:host {\\r\\n  border-width: 1px;\\r\\n  margin: 0;\\r\\n  color: rgb(223, 183, 223);\\r\\n  font-size: 3.5vw;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n  text-shadow: 2px 2px rgb(0, 0, 0);\\r\\n}\\r\\nol {\\r\\n  overflow: auto;\\r\\n  max-height: 600px;\\r\\n}\\r\\nh1 {\\r\\n  text-align: center;\\r\\n  margin: 0;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n  font-size: 3.5vw;\\r\\n}\\r\\n@media screen and (min-width: 1000px) {\\r\\n  :host {\\r\\n    font-size: 35px;\\r\\n  }\\r\\n  h1 {\\r\\n    font-size: 35px;\\r\\n  }\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF2YS1sZWFkZXJib2FyZC9sYXZhLWxlYWRlcmJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEO0FBQ3JEO0VBQ0UsaUJBQWlCO0VBQ2pCLFNBQVM7RUFDVCx5QkFBeUI7RUFDekIsZ0JBQWdCO0VBQ2hCLDhCQUE4QjtFQUM5QixpQ0FBaUM7QUFDbkM7QUFFQTtFQUNFLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkI7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixTQUFTO0VBQ1QsOEJBQThCO0VBQzlCLGdCQUFnQjtBQUNsQjtBQUVBO0VBQ0U7SUFDRSxlQUFlO0VBQ2pCO0VBQ0E7SUFDRSxlQUFlO0VBQ2pCO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9sYXZhLWxlYWRlcmJvYXJkL2xhdmEtbGVhZGVyYm9hcmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKC8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1DYXZlYXQpO1xyXG46aG9zdCB7XHJcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGNvbG9yOiByZ2IoMjIzLCAxODMsIDIyMyk7XHJcbiAgZm9udC1zaXplOiAzLjV2dztcclxuICBmb250LWZhbWlseTogXCJDYXZlYXRcIiwgY3Vyc2l2ZTtcclxuICB0ZXh0LXNoYWRvdzogMnB4IDJweCByZ2IoMCwgMCwgMCk7XHJcbn1cclxuXHJcbm9sIHtcclxuICBvdmVyZmxvdzogYXV0bztcclxuICBtYXgtaGVpZ2h0OiA2MDBweDtcclxufVxyXG5cclxuaDEge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW46IDA7XHJcbiAgZm9udC1mYW1pbHk6IFwiQ2F2ZWF0XCIsIGN1cnNpdmU7XHJcbiAgZm9udC1zaXplOiAzLjV2dztcclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTAwMHB4KSB7XHJcbiAgOmhvc3Qge1xyXG4gICAgZm9udC1zaXplOiAzNXB4O1xyXG4gIH1cclxuICBoMSB7XHJcbiAgICBmb250LXNpemU6IDM1cHg7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nexport type LeaderboardData = { name: string; duration: number }[];\r\n@Component({\r\n  selector: \"lava-leaderboard\",\r\n  templateUrl: \"./lava-leaderboard.component.html\",\r\n  styleUrls: [\"./lava-leaderboard.component.css\"]\r\n})\r\nexport class LavaLeaderboardComponent {\r\n  constructor(\r\n    public dialogRef: MatDialogRef<LavaLeaderboardComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: LeaderboardData\r\n  ) {\r\n  }\r\n}\r\n","export default \"@import url(//fonts.googleapis.com/css?family=Caveat);\\r\\n:host {\\r\\n  border-color: (0, 0, 0);\\r\\n  border-style: solid;\\r\\n  border-width: 1px;\\r\\n  background-color: rgba(0, 0, 0, 0.3);\\r\\n  margin: 0;\\r\\n  padding: 0 1em;\\r\\n  color: rgb(223, 183, 223);\\r\\n  font-size: 2.5vw;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n  text-shadow: 2px 2px rgb(0, 0, 0);\\r\\n}\\r\\np {\\r\\n  text-align: center;\\r\\n  margin: 0.5em;\\r\\n}\\r\\n@media screen and (min-width: 1000px) {\\r\\n  :host {\\r\\n    font-size: 25px;\\r\\n  }\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF2YS1ub3RpZmljYXRpb24vbGF2YS1ub3RpZmljYXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxREFBcUQ7QUFDckQ7RUFDRSx1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixvQ0FBb0M7RUFDcEMsU0FBUztFQUNULGNBQWM7RUFDZCx5QkFBeUI7RUFDekIsZ0JBQWdCO0VBQ2hCLDhCQUE4QjtFQUM5QixpQ0FBaUM7QUFDbkM7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0FBQ2Y7QUFDQTtFQUNFO0lBQ0UsZUFBZTtFQUNqQjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvbGF2YS1ub3RpZmljYXRpb24vbGF2YS1ub3RpZmljYXRpb24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKC8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1DYXZlYXQpO1xyXG46aG9zdCB7XHJcbiAgYm9yZGVyLWNvbG9yOiAoMCwgMCwgMCk7XHJcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICBib3JkZXItd2lkdGg6IDFweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDAgMWVtO1xyXG4gIGNvbG9yOiByZ2IoMjIzLCAxODMsIDIyMyk7XHJcbiAgZm9udC1zaXplOiAyLjV2dztcclxuICBmb250LWZhbWlseTogXCJDYXZlYXRcIiwgY3Vyc2l2ZTtcclxuICB0ZXh0LXNoYWRvdzogMnB4IDJweCByZ2IoMCwgMCwgMCk7XHJcbn1cclxucCB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbjogMC41ZW07XHJcbn1cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTAwMHB4KSB7XHJcbiAgOmhvc3Qge1xyXG4gICAgZm9udC1zaXplOiAyNXB4O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit, OnChanges, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"lavanotification\",\r\n  templateUrl: \"./lava-notification.component.html\",\r\n  styleUrls: [\"./lava-notification.component.css\"]\r\n})\r\nexport class LavaNotificationComponent {\r\n  @Input() notificationText: string;\r\n  constructor() {}\r\n}\r\n","export default \"@import url(//fonts.googleapis.com/css?family=Caveat);\\r\\n:host {\\r\\n  border-color: (0, 0, 0);\\r\\n  border-style: solid;\\r\\n  border-width: 1px;\\r\\n  background-color: rgba(0, 0, 0, 0.3);\\r\\n  margin: 0;\\r\\n  padding: 0.5em 0.5em;\\r\\n  color: rgb(223, 183, 223);\\r\\n  text-shadow: 2px 2px rgb(0, 0, 0);\\r\\n  font-size: 2.5vw;\\r\\n  font-family: \\\"Caveat\\\", cursive;\\r\\n}\\r\\nh3,\\r\\n.h3 {\\r\\n  text-align: center;\\r\\n}\\r\\n.title {\\r\\n  padding-right: 1em;\\r\\n}\\r\\n.value {\\r\\n  min-width: 2em;\\r\\n}\\r\\n@media screen and (min-width: 1000px) {\\r\\n  :host {\\r\\n    font-size: 25px;\\r\\n  }\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF2YS1zdGF0aXN0aWNzL2xhdmEtc3RhdGlzdGljcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFEQUFxRDtBQUNyRDtFQUNFLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLG9DQUFvQztFQUNwQyxTQUFTO0VBQ1Qsb0JBQW9CO0VBQ3BCLHlCQUF5QjtFQUN6QixpQ0FBaUM7RUFDakMsZ0JBQWdCO0VBQ2hCLDhCQUE4QjtBQUNoQztBQUNBOztFQUVFLGtCQUFrQjtBQUNwQjtBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCO0FBRUE7RUFDRSxjQUFjO0FBQ2hCO0FBRUE7RUFDRTtJQUNFLGVBQWU7RUFDakI7QUFDRiIsImZpbGUiOiJzcmMvYXBwL2xhdmEtc3RhdGlzdGljcy9sYXZhLXN0YXRpc3RpY3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKC8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1DYXZlYXQpO1xyXG46aG9zdCB7XHJcbiAgYm9yZGVyLWNvbG9yOiAoMCwgMCwgMCk7XHJcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICBib3JkZXItd2lkdGg6IDFweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDAuNWVtIDAuNWVtO1xyXG4gIGNvbG9yOiByZ2IoMjIzLCAxODMsIDIyMyk7XHJcbiAgdGV4dC1zaGFkb3c6IDJweCAycHggcmdiKDAsIDAsIDApO1xyXG4gIGZvbnQtc2l6ZTogMi41dnc7XHJcbiAgZm9udC1mYW1pbHk6IFwiQ2F2ZWF0XCIsIGN1cnNpdmU7XHJcbn1cclxuaDMsXHJcbi5oMyB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gIHBhZGRpbmctcmlnaHQ6IDFlbTtcclxufVxyXG5cclxuLnZhbHVlIHtcclxuICBtaW4td2lkdGg6IDJlbTtcclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMTAwMHB4KSB7XHJcbiAgOmhvc3Qge1xyXG4gICAgZm9udC1zaXplOiAyNXB4O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"lavastatistics\",\r\n  templateUrl: \"./lava-statistics.component.html\",\r\n  styleUrls: [\"./lava-statistics.component.css\"]\r\n})\r\nexport class LavaStatisticsComponent implements OnInit {\r\n  @Input() remainingWisps: number;\r\n  @Input() currentSpeed: number;\r\n  @Input() currentRadius: number;\r\n  @Input() numberOfSeconds: number;\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","export enum LavaState {\r\n  Starting,\r\n  Started,\r\n  CaughtWisp,\r\n  CaughtMinRequiredWisps,\r\n  GotOutWithMinRequiredWisps,\r\n  CaughtAllWisps\r\n}\r\n","import { WorldCoordinates } from \"../../../lavalandcommon\";\r\nimport * as LavaCanvas from \"../lavacanvas\";\r\nimport { WorldObjectInternal } from \"../lavacanvas/worldobjectinternal\";\r\nimport { PlayerSpeed } from \"./playerSpeed\";\r\n\r\nexport class PlayerObject extends LavaCanvas.WorldObject {\r\n  protected isInCooldown = false;\r\n  private stolenObject: WorldObjectInternal;\r\n  private nextTurnActions: ((obj: WorldObjectInternal) => void)[] = [];\r\n  private movementQueued: {\r\n    world: WorldCoordinates;\r\n    canvas: WorldCoordinates;\r\n  } = { world: { x: 0, y: 0 }, canvas: { x: 0, y: 0 } };\r\n  readonly playerSpeed = new PlayerSpeed(2.5, 0.8);\r\n  public currentSpeed: number = 0;\r\n  private lastMovementTime = new Date().getTime();\r\n\r\n  constructor(asset: LavaCanvas.Asset) {\r\n    super(asset);\r\n    this.oninit = obj => {\r\n      obj.setRandomCoordinate();\r\n      this.stolenObject = obj;\r\n    };\r\n    this.onturn = obj => this.turn(obj);\r\n  }\r\n\r\n  private turn(obj: WorldObjectInternal) {\r\n    for (let turnAction of this.nextTurnActions) {\r\n      turnAction(obj);\r\n    }\r\n    this.nextTurnActions = [];\r\n  }\r\n\r\n  private async move(movement: WorldCoordinates): Promise<number> {\r\n    return this.stolenObject.move(movement, false);\r\n  }\r\n\r\n  public async moveA() {\r\n    const currentTime = new Date().getTime();\r\n    const dT = currentTime - this.lastMovementTime;\r\n    this.lastMovementTime = currentTime;\r\n    if (\r\n      Math.abs(this.movementQueued.world.x) < 1e-10 &&\r\n      Math.abs(this.movementQueued.world.y) < 1e-10\r\n    ) {\r\n      this.movementQueued.canvas = { x: 0, y: 0 };\r\n      this.movementQueued.world = { x: 0, y: 0 };\r\n      this.asset.showOriginal();\r\n      this.currentSpeed = 0;\r\n      return;\r\n    }\r\n    let movementDirection = {\r\n      x: this.movementQueued.world.x,\r\n      y: this.movementQueued.world.y\r\n    };\r\n    const speedBoosterConstant = 0.01;\r\n    movementDirection.x *= speedBoosterConstant;\r\n    movementDirection.y *= speedBoosterConstant;\r\n\r\n    const maxSpeedNormalizerConstant = 0.003 * dT;\r\n    const maxSpeedNormalizer =\r\n      maxSpeedNormalizerConstant * this.playerSpeed.maxSpeed.getValue();\r\n\r\n    const totalSpeed = Math.sqrt(\r\n      movementDirection.x * movementDirection.x +\r\n      movementDirection.y * movementDirection.y\r\n    );\r\n    const maxSpeedFactor = maxSpeedNormalizer / totalSpeed;\r\n    if (totalSpeed > maxSpeedNormalizer) {\r\n      this.movementQueued.world.x -= this.movementQueued.world.x * speedBoosterConstant * maxSpeedFactor;\r\n      this.movementQueued.world.y -= this.movementQueued.world.y * speedBoosterConstant * maxSpeedFactor;\r\n      movementDirection.x *= maxSpeedFactor;\r\n      movementDirection.y *= maxSpeedFactor;\r\n    }\r\n    else {\r\n      this.movementQueued.world.x *= 1 - speedBoosterConstant;\r\n      this.movementQueued.world.y *= 1 - speedBoosterConstant;\r\n    }\r\n    const movementSpeed = await this.move(movementDirection);\r\n    this.currentSpeed = Math.round(\r\n      (movementSpeed / maxSpeedNormalizerConstant) * 100\r\n    );\r\n  }\r\n\r\n  public async queueMoveTo(direction: {\r\n    world: WorldCoordinates;\r\n    canvas: WorldCoordinates;\r\n  }) {\r\n    this.movementQueued = direction;\r\n  }\r\n}\r\n","import { BehaviorSubject } from \"rxjs\";\r\n\r\nexport class PlayerSpeed {\r\n  public maxSpeed = new BehaviorSubject<number>(1);\r\n  constructor(private playerMaxSpeed = 2.5, private playerMinSpeed = 0.75) {}\r\n\r\n  changeSpeedTo(newSpeed: number) {\r\n    newSpeed = Math.min(newSpeed, this.playerMaxSpeed);\r\n    newSpeed = Math.max(newSpeed, this.playerMinSpeed);\r\n    this.maxSpeed.next(newSpeed);\r\n  }\r\n\r\n  public speedBoost() {\r\n    const currentSpeed = this.maxSpeed.getValue();\r\n    if (currentSpeed < 1) {\r\n      this.changeSpeedTo(1);\r\n    } else if (currentSpeed < this.playerMaxSpeed) {\r\n      this.changeSpeedTo(currentSpeed + 0.05);\r\n    }\r\n  }\r\n\r\n  public speedBump() {\r\n    const currentSpeed = this.maxSpeed.getValue();\r\n    if (currentSpeed < 1) {\r\n      this.changeSpeedTo(currentSpeed - 0.05);\r\n    } else {\r\n      this.changeSpeedTo(currentSpeed - 0.1);\r\n    }\r\n  }\r\n\r\n  public stop() {\r\n    this.maxSpeed.next(0);\r\n  }\r\n}\r\n","import { TurnEventSubscription } from \"./turnevent\";\r\nimport { TouchableObject } from \"./touchableObject\";\r\n\r\nexport class SpeedBoost extends TouchableObject {\r\n  protected setTouch() {\r\n    this.isInCooldown = true;\r\n    this.asset.showDarkBlur(true);\r\n    this.turnService.register(\r\n      new TurnEventSubscription(1000, (sub: TurnEventSubscription) => {\r\n        this.asset.showOriginal();\r\n        this.isInCooldown = false;\r\n        sub.unsubscribe();\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { TouchableObject } from \"./touchableObject\";\r\n\r\nexport class SpeedBump extends TouchableObject {}\r\n","import {WorldCoordinates} from \"../../../lavalandcommon\";\r\nimport {TurnEventSubscription} from \"./turnevent\";\r\nimport {TurnService} from \"./turn.service\";\r\nimport * as LavaCanvas from \"../lavacanvas\";\r\n\r\nexport class TouchableObject extends LavaCanvas.WorldObject {\r\n  protected isInCooldown = false;\r\n  constructor(asset: LavaCanvas.Asset) {\r\n    super(asset);\r\n    this.oninit = obj => { obj.setRandomCoordinate(); };\r\n  }\r\n\r\n  public async checkIfCouldTouch(targetCoordinate: WorldCoordinates,\r\n                                 xRadius = 3, yRadius = 3) {\r\n    const currentCoordinate = await this.getCoordinate();\r\n    if (this.isInCooldown) {\r\n      return false;\r\n    } else if (currentCoordinate.x - targetCoordinate.x > xRadius) {\r\n      return false;\r\n    } else if (currentCoordinate.x - targetCoordinate.x < -xRadius) {\r\n      return false;\r\n    } else if (currentCoordinate.y - targetCoordinate.y > yRadius) {\r\n      return false;\r\n    } else if (currentCoordinate.y - targetCoordinate.y < -yRadius) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public performTouch() { this.setTouch(); }\r\n\r\n  protected setTouch() {}\r\n}\r\n","import { Injectable, OnDestroy } from \"@angular/core\";\r\nimport { TurnEventSubscription } from \"./turnevent\";\r\ntype TurnEvents = TurnEventForService[];\r\n\r\n@Injectable()\r\nexport class TurnService implements OnDestroy {\r\n  private heartbeatInterval: number;\r\n\r\n  // priority to turn events\r\n  private turnEvents: Map<number, TurnEvents> = new Map();\r\n\r\n  // priority array\r\n  private allPriorities: Array<number> = [];\r\n\r\n  register(turnEvent: TurnEventSubscription) {\r\n    const turnEventObjectForThisService = new TurnEventForService(turnEvent);\r\n    const prio = turnEvent.priority;\r\n    if (this.turnEvents.has(prio)) {\r\n      const prioEvents = this.turnEvents.get(prio);\r\n      const idx = prioEvents.push(turnEventObjectForThisService) - 1;\r\n      turnEventObjectForThisService.unsubscribe = () => {\r\n        prioEvents[idx] = null;\r\n      };\r\n    } else {\r\n      const prioEvents = [turnEventObjectForThisService];\r\n      turnEventObjectForThisService.unsubscribe = () => {\r\n        prioEvents[0] = null;\r\n      };\r\n      this.turnEvents.set(prio, prioEvents);\r\n      this.allPriorities.push(prio);\r\n      this.allPriorities.sort();\r\n    }\r\n  }\r\n\r\n  constructor() {\r\n    this.heartbeatInterval = window.setInterval(() => {\r\n      this.processEvent();\r\n    }, 10);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    window.clearInterval(this.heartbeatInterval);\r\n  }\r\n\r\n  processEvent() {\r\n    this.allPriorities.forEach(priority => {\r\n      const eventsForThisPriority = this.turnEvents.get(priority);\r\n      if (Array.isArray(eventsForThisPriority)) {\r\n        eventsForThisPriority.forEach(eventForThisPriority => {\r\n          if (eventForThisPriority != null) {\r\n            eventForThisPriority.process();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nclass TurnEventForService {\r\n  public currentStrength = 0;\r\n  public unsubscribe: Function;\r\n  constructor(public ev: TurnEventSubscription) {\r\n    ev.unsubscribe = () => {\r\n      this.unsubscribe();\r\n    };\r\n  }\r\n\r\n  process() {\r\n    this.currentStrength += 1 / this.ev.numberOfTurns;\r\n    if (this.currentStrength >= 1) {\r\n      this.currentStrength -= 1;\r\n      this.ev.fncProcessOccurence(this.ev);\r\n    }\r\n  }\r\n}\r\n","// readonly numberOfTurns : number; // executed every this many of turns\r\n// readonly priority: number; // higher valued events will be considered first\r\n// readonly fncProcessOccurence : Function; // Function that is called when cumulative strength is 1\r\n\r\nexport class TurnEventSubscription {\r\n  public unsubscribe: Function; // Populated by the subscription event\r\n  constructor(\r\n    public numberOfTurns: number,\r\n    public fncProcessOccurence: (TurnEventSubscription) => void,\r\n    public priority = 9\r\n  ) {}\r\n}\r\n","import * as LavaCanvas from \"../lavacanvas\";\r\nimport { WorldCoordinates } from \"../../../lavalandcommon\";\r\nimport { TurnService } from \"./turn.service\";\r\nimport { TurnEventSubscription } from \"./turnevent\";\r\nimport { WorldObjectInternal } from \"../lavacanvas/worldobjectinternal\";\r\nimport { Observable } from \"rxjs/internal/Observable\";\r\n\r\nexport class Wisp extends LavaCanvas.WorldObject {\r\n  private moveAround = true;\r\n  private isGhost = false;\r\n  private caughtOnce = false;\r\n  private setHideLaterCounter = 0;\r\n  constructor(asset: LavaCanvas.Asset) {\r\n    super(asset);\r\n    this.oninit = obj => {\r\n      obj.setRandomCoordinate();\r\n    };\r\n    this.onturn = obj => this.turn(obj);\r\n  }\r\n\r\n  public startMoveAround() {\r\n    this.moveAround = true;\r\n  }\r\n\r\n  public stopMoveAround() {\r\n    this.moveAround = false;\r\n  }\r\n\r\n  private turn(obj: WorldObjectInternal) {\r\n    if (this.setHideLaterCounter > 0 ) {\r\n      this.setHideLaterCounter -= 1;\r\n      if (this.setHideLaterCounter === 0) {\r\n        obj.hidden = true;\r\n      }\r\n    }\r\n    if (!this.moveAround) {\r\n      return;\r\n    } else {\r\n      // Select a random direction\r\n      const moveThisTime = Math.random() > 0.4;\r\n      if (moveThisTime === true) {\r\n        const rollX = Math.random() - 0.5;\r\n        const rollY = Math.random() - 0.5;\r\n        obj.move({ x: rollX, y: rollY });\r\n      } else {\r\n        // don't move\r\n        obj.move();\r\n      }\r\n    }\r\n  }\r\n\r\n  public async checkIfCouldCatch(\r\n    targetCoordinate: WorldCoordinates,\r\n    xRadius = 3,\r\n    yRadius = 3\r\n  ) {\r\n    const wispCoordinate = await this.getCoordinate();\r\n    if (this.isGhost) {\r\n      return false;\r\n    } else if (wispCoordinate.x - targetCoordinate.x > xRadius) {\r\n      return false;\r\n    } else if (wispCoordinate.x - targetCoordinate.x < -xRadius) {\r\n      return false;\r\n    } else if (wispCoordinate.y - targetCoordinate.y > yRadius) {\r\n      return false;\r\n    } else if (wispCoordinate.y - targetCoordinate.y < -yRadius) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // Returns true if this is the first time this wisp is caught\r\n  public performCatch() {\r\n    this.setCaught();\r\n    this.setHideLaterCounter = 5;\r\n    if (this.caughtOnce) {\r\n      return false;\r\n    } else {\r\n      this.caughtOnce = true;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public performCatchWithComeback() {\r\n    this.setCaught();\r\n    this.setComeback();\r\n    if (this.caughtOnce) {\r\n      return false;\r\n    } else {\r\n      this.caughtOnce = true;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private setCaught() {\r\n    this.isGhost = true;\r\n    this.stopMoveAround();\r\n    this.asset.showDarkBlur(true);\r\n  }\r\n\r\n  private setComeback() {\r\n    this.turnService.register(\r\n      new TurnEventSubscription(1000, (sub: TurnEventSubscription) => {\r\n        this.asset.showOriginal();\r\n        this.startMoveAround();\r\n        this.isGhost = false;\r\n        sub.unsubscribe();\r\n      })\r\n    );\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import * as ImageFilters from \"canvas-filters\";\r\nimport { WorldCoordinates } from \"../../../lavalandcommon\";\r\nimport { world2Canvas } from \"./world2canvas\";\r\n\r\nexport enum AssetColor {\r\n  RandomColor,\r\n  OriginalColor\r\n}\r\nexport class Asset {\r\n  private imageSrc: Promise<HTMLCanvasElement | HTMLImageElement>;\r\n  private imageCur: HTMLImageElement;\r\n  private assetCanvas: HTMLCanvasElement;\r\n  private canvasFilter: Function;\r\n  private displaySize = world2Canvas(this.displaySizeInTiles);\r\n  constructor(\r\n    private imageUrl: string,\r\n    private assetColor = AssetColor.OriginalColor,\r\n    private displaySizeInTiles: WorldCoordinates = { x: 1.1, y: 1.1 }\r\n  ) {\r\n    this.assetCanvas = document.createElement(\"canvas\");\r\n    this.imageSrc = this.init();\r\n    this.drawOriginal();\r\n  }\r\n\r\n  private async init() {\r\n    const im = await loadImageAsync(this.imageUrl);\r\n    const imageCanvas = document.createElement(\"canvas\");\r\n    const scaleRatio = Math.max(\r\n      this.displaySize.x / im.width,\r\n      this.displaySize.y / im.height\r\n    );\r\n    imageCanvas.width = this.displaySize.x * 2;\r\n    imageCanvas.height = this.displaySize.y * 2;\r\n    const ctx = imageCanvas.getContext(\"2d\");\r\n    ctx.scale(scaleRatio, scaleRatio);\r\n\r\n    ctx.drawImage(im, 0, 0);\r\n    if (this.assetColor === AssetColor.RandomColor) {\r\n      // create an ImageData for the area you want to apply the filter.\r\n      const imageData = ctx.getImageData(\r\n        0,\r\n        0,\r\n        imageCanvas.width,\r\n        imageCanvas.height\r\n      );\r\n      // pass it to a filter and get the modified copy\r\n      const filtered = ImageFilters.HSLAdjustment(\r\n        imageData,\r\n        Math.random() * 360,\r\n        0,\r\n        0\r\n      );\r\n      // const blurred = ImageFilters.BoxBlur(filtered);\r\n      // put it back into a context to view the results\r\n      ctx.putImageData(filtered, 0, 0);\r\n    }\r\n    return imageCanvas;\r\n  }\r\n\r\n  private async drawOriginal() {\r\n    const { ctx, im } = await this.getClearContext();\r\n    ctx.drawImage(im, 0, 0);\r\n    if (this.canvasFilter) {\r\n      this.canvasFilter();\r\n    }\r\n  }\r\n\r\n  private async drawOriginalHelper(\r\n    ctx: CanvasRenderingContext2D,\r\n    im: HTMLCanvasElement | HTMLImageElement\r\n  ) {\r\n    ctx.drawImage(im, 0, 0);\r\n    // if (this.canvasFilter) {\r\n    //   this.canvasFilter();\r\n    // }\r\n  }\r\n\r\n  public async image() {\r\n    // Wait for first image drawing to finish\r\n    await this.imageSrc;\r\n    // Then return filled canvas\r\n    return this.assetCanvas;\r\n  }\r\n\r\n  public offset() {\r\n    return { x: this.displaySize.x / 2, y: this.displaySize.y / 2 };\r\n  }\r\n\r\n  public async showMotionBlur(x: number, y: number, strength = 2) {\r\n    const { ctx, im } = await this.getClearContext();\r\n    if (y !== 0) {\r\n      ctx.globalAlpha = 1 / strength / 5;\r\n      for (let yStep = 0; yStep < strength; yStep += 1) {\r\n        ctx.drawImage(im, 0, yStep);\r\n        if (this.canvasFilter) {\r\n          this.canvasFilter();\r\n        }\r\n      }\r\n      ctx.globalAlpha = 1;\r\n    } else if (x !== 0) {\r\n      ctx.globalAlpha = 1 / strength / 5;\r\n      for (let xStep = 0; xStep < strength; xStep += 1) {\r\n        ctx.drawImage(im, xStep, 0);\r\n        if (this.canvasFilter) {\r\n          this.canvasFilter();\r\n        }\r\n      }\r\n      ctx.globalAlpha = 1;\r\n    }\r\n  }\r\n\r\n  public async showDarkBlur(isDarkAndBlurry = true) {\r\n    this.canvasFilter = () => {\r\n      const ctx = this.assetCanvas.getContext(\"2d\");\r\n      // create an ImageData for the area you want to apply the filter.\r\n      const imageData = ctx.getImageData(\r\n        0,\r\n        0,\r\n        this.assetCanvas.width,\r\n        this.assetCanvas.height\r\n      );\r\n      // pass it to a filter and get the modified copy\r\n      const filtered = ImageFilters.GrayScale(imageData);\r\n      // const blurred = ImageFilters.BoxBlur(filtered);\r\n      // put it back into a context to view the results\r\n      ctx.putImageData(filtered, 0, 0);\r\n      return this.assetCanvas;\r\n    };\r\n    this.drawOriginal();\r\n  }\r\n\r\n  public async showOriginal() {\r\n    this.canvasFilter = null;\r\n    this.drawOriginal();\r\n  }\r\n\r\n  private async getClearContext() {\r\n    const im = await this.imageSrc;\r\n    this.assetCanvas.width = im.width;\r\n    this.assetCanvas.height = im.height;\r\n    const ctx = this.assetCanvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, this.assetCanvas.width, this.assetCanvas.height);\r\n    return { ctx, im };\r\n  }\r\n\r\n  private async filterCanvas() {}\r\n}\r\n\r\nfunction loadImageAsync(src: string): Promise<HTMLImageElement> {\r\n  return new Promise((resolve, reject) => {\r\n    const tileGraphic = new Image();\r\n    tileGraphic.src = src;\r\n    tileGraphic.onload = () => {\r\n      resolve(tileGraphic);\r\n    };\r\n    tileGraphic.onerror = err => {\r\n      reject(err);\r\n    };\r\n  });\r\n}\r\n","import { WorldCoordinates } from \"../../../lavalandcommon\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { world2Canvas } from \"./world2canvas\";\r\nimport { LavaCanvasInternal } from \"./lavacanvasinternal.service\";\r\n\r\nexport class CanvasEventHandler {\r\n  private mapSizeInTiles = this.lavacanvasInternal.getMapSize().max;\r\n  private mapSizeInPixels = world2Canvas(this.mapSizeInTiles);\r\n  public interactionDirection = new BehaviorSubject<WorldCoordinates>({\r\n    x: 0,\r\n    y: 0\r\n  });\r\n\r\n  private isTouch = false;\r\n\r\n  constructor(\r\n    private canvas: HTMLCanvasElement,\r\n    private lavacanvasInternal: LavaCanvasInternal\r\n  ) {\r\n    let following = false;\r\n    this.canvas.onmousedown = event => {\r\n      if (!following) {\r\n        this.fncStartFollowingMouse(event);\r\n        following = true;\r\n      } else {\r\n        this.fncStopFollowingMouse(event);\r\n        following = false;\r\n      }\r\n    };\r\n\r\n    this.canvas.ontouchstart = event => {\r\n      if (this.isTouch === false) {\r\n        this.isTouch = true;\r\n        this.canvas.onmousedown = () => {};\r\n        this.canvas.onmousemove = () => {};\r\n      }\r\n      this.handleInteractLocation(\r\n        event.touches[0].clientX,\r\n        event.touches[0].clientY\r\n      );\r\n      this.canvas.ontouchmove = event =>\r\n        this.handleInteractLocation(\r\n          event.touches[0].clientX,\r\n          event.touches[0].clientY\r\n        );\r\n    };\r\n    this.canvas.ontouchend = event => {\r\n      this.canvas.ontouchmove = () => {};\r\n    };\r\n  }\r\n\r\n  private fncStartFollowingMouse(event: MouseEvent) {\r\n    // console.log(\"Started mouse\");\r\n    this.fncMouseMove(event);\r\n    this.canvas.onmousemove = event => this.fncMouseMove(event);\r\n  }\r\n\r\n  private fncStopFollowingMouse(event: MouseEvent) {\r\n    // console.log(\"Stopped mouse\");\r\n    this.canvas.onmousemove = () => {};\r\n    this.interactionDirection.next({ x: 0, y: 0 });\r\n  }\r\n\r\n  private fncMouseMove(event: MouseEvent) {\r\n    this.handleInteractLocation(event.clientX, event.clientY);\r\n  }\r\n\r\n  private canvas2World(eventX: number, eventY: number) {\r\n    // // canvas width: 1536\r\n    // // height: 770\r\n    // // map width: 200 => 6200\r\n    // // map height: 100 => 3100\r\n    // console.log(\r\n    //   this.player.getCoordinates().x, // 50\r\n    //   event.clientX, // 1020\r\n    //   this.player.getCoordinates().y, // 85\r\n    //   event.clientY // 510\r\n    // );\r\n    const rect = this.canvas.getBoundingClientRect();\r\n\r\n    let x = eventX - rect.left;\r\n    let y = eventY - rect.top;\r\n\r\n    const translateCoords = this.lavacanvasInternal.getTranslateCoords();\r\n\r\n    x -= translateCoords.x;\r\n    y -= translateCoords.y;\r\n\r\n    const eventWorld: WorldCoordinates = {\r\n      x: (x / this.mapSizeInPixels.x) * this.mapSizeInTiles.x,\r\n      y: (y / this.mapSizeInPixels.y) * this.mapSizeInTiles.y\r\n    };\r\n\r\n    // console.log(\r\n    //   this.player.getCoordinates().x,\r\n    //   eventWorld.x,\r\n    //   this.player.getCoordinates().y,\r\n    //   eventWorld.y\r\n    // );\r\n\r\n    return eventWorld;\r\n  }\r\n\r\n  private async handleInteractLocation(eventX: number, eventY: number) {\r\n    const pos = this.canvas2World(eventX, eventY);\r\n    const centerPos = await this.lavacanvasInternal.centralObject.getCoordinate();\r\n    const xDif = pos.x - centerPos.x;\r\n    const yDif = pos.y - centerPos.y;\r\n    // console.log(xDif, yDif);\r\n    this.interactionDirection.next({ x: xDif, y: yDif });\r\n  }\r\n}\r\n","export * from \"./lavacanvas.component\";","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  HostListener\r\n} from \"@angular/core\";\r\nimport { LavaCanvasInternal, MapSettings } from \"./lavacanvasinternal.service\";\r\nimport { CanvasEventHandler } from \"./canvaseventhandler\";\r\nimport { setAssetSize, canvas2World, world2Canvas } from \"./world2canvas\";\r\nimport { WorldObject } from \"./worldobject\";\r\nimport { WorldCoordinates } from \"../../../lavalandcommon\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { TurnEventSubscription } from \"../app/turnevent\";\r\nimport { TurnService } from \"../app/turn.service\";\r\nimport { WorldObjectInternal } from \"./worldobjectinternal\";\r\nimport { ReplaySubject } from \"rxjs/internal/ReplaySubject\";\r\nimport { isDebug } from 'src/app/isDebug';\r\nexport { WorldObject } from \"./worldobject\";\r\nexport { MapSettings } from \"./lavacanvasinternal.service\";\r\nexport { Asset, AssetColor } from \"./asset\";\r\n@Component({\r\n  selector: \"lavaCanvas\",\r\n  template: \"<canvas #canvasContainer></canvas>\",\r\n  styles: [\r\n    `\r\n      canvas {\r\n        flex-grow: 1;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class LavaLandComponent implements OnInit, OnChanges {\r\n  @ViewChild(\"canvasContainer\", { read: ElementRef, static: true })\r\n  public screenCanvas: ElementRef;\r\n  @Input() public settings: MapSettings;\r\n  @Input() public objects: WorldObject[];\r\n  @Input() public player: WorldObject;\r\n  private canvasObjects: WorldObjectInternal[] = [];\r\n  private canvas: HTMLCanvasElement;\r\n  private canvasEventHandler: CanvasEventHandler;\r\n  private mapDragSubject = new ReplaySubject<{\r\n    world: WorldCoordinates;\r\n    canvas: WorldCoordinates;\r\n  }>(1);\r\n  @Output() public mapDragRequest = this.mapDragSubject.asObservable();\r\n  constructor(\r\n    private lavacanvasInternal: LavaCanvasInternal,\r\n    private turnService: TurnService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.canvas = this.screenCanvas.nativeElement as HTMLCanvasElement;\r\n    this.onResize();\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this.settings != null) {\r\n      this.lavacanvasInternal.setSettings(this.settings).catch(ex => {\r\n        if (isDebug()) {\r\n          console.warn(\"Error while constructing the map!\");\r\n          console.error(ex);\r\n        }\r\n      });\r\n      this.turnService.register(\r\n        new TurnEventSubscription(\r\n          1,\r\n          () => {\r\n            const ctx = this.canvas.getContext(\"2d\");\r\n            ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n            this.lavacanvasInternal.drawMap(ctx, this.canvasObjects);\r\n          },\r\n          1\r\n        )\r\n      );\r\n\r\n      this.canvasEventHandler = new CanvasEventHandler(\r\n        this.canvas,\r\n        this.lavacanvasInternal\r\n      );\r\n      this.canvasEventHandler.interactionDirection\r\n        .pipe(\r\n          map(world => {\r\n            const canvas = world2Canvas(world);\r\n            return {\r\n              world,\r\n              canvas\r\n            };\r\n          })\r\n        )\r\n        .subscribe(\r\n          next => this.mapDragSubject.next(next),\r\n          error => this.mapDragSubject.error(error),\r\n          () => this.mapDragSubject.complete\r\n        );\r\n      this.lavacanvasInternal.centralObject = new WorldObjectInternal(\r\n        this.turnService,\r\n        this.lavacanvasInternal,\r\n        this.player\r\n      );\r\n      for (let object of this.objects) {\r\n        this.canvasObjects.push(\r\n          new WorldObjectInternal(\r\n            this.turnService,\r\n            this.lavacanvasInternal,\r\n            object\r\n          )\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener(\"window:resize\", [\"$event\"])\r\n  onResize() {\r\n    if (isDebug()) {\r\n      console.log(\r\n        `LavaLandComponent::onResize(): Canvas resized. [${\r\n        this.canvas.clientWidth\r\n        }, ${this.canvas.clientHeight}]`\r\n      );\r\n    }\r\n    const isPortrait: boolean = this.canvas.clientHeight > this.canvas.clientWidth;\r\n    if (isPortrait) {\r\n      // this.canvas.height = 560;\r\n      // this.canvas.width = 320;\r\n      setAssetSize(30, 30);\r\n    }\r\n    else {\r\n      // this.canvas.width = 1680;\r\n      // this.canvas.height = 720;\r\n      setAssetSize(60, 60);\r\n    }\r\n    this.canvas.height = this.canvas.clientHeight;\r\n    this.canvas.width = this.canvas.clientWidth;\r\n    // const nMaxUnitsToDisplay = 30;\r\n    // if (this.canvas.width > this.canvas.height) {\r\n    //   // landscape mode\r\n    //   const unitSize = this.canvas.width / nMaxUnitsToDisplay;\r\n    //   setAssetSize(unitSize, unitSize);\r\n    // } else {\r\n    //   // portrait mode\r\n    //   const unitSize = this.canvas.height / nMaxUnitsToDisplay;\r\n    //   setAssetSize(unitSize, unitSize);\r\n    // }\r\n    this.lavacanvasInternal.clearDraw();\r\n  }\r\n}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { LavaCanvasInternal } from \"./lavacanvasinternal.service\";\r\nimport { LavaLandComponent } from \"./lavacanvas.component\";\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [LavaCanvasInternal],\r\n  exports: [LavaLandComponent],\r\n  declarations: [LavaLandComponent]\r\n})\r\nexport class LavaCanvasModule {}\r\n","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  Neighbors,\r\n  WorldCoordinates,\r\n  GameMap,\r\n  TileType\r\n} from \"../../../lavalandcommon\";\r\nimport { Asset } from \"./asset\";\r\nimport { world2Canvas } from \"./world2canvas\";\r\nimport { WorldObjectInternal } from \"./worldobjectinternal\";\r\nimport { isDebug } from 'src/app/isDebug';\r\nexport interface MapSettings {\r\n  assets: Asset[];\r\n  // transitionProbabilities: number[][],\r\n  map: GameMap;\r\n}\r\n\r\n@Injectable()\r\nexport class LavaCanvasInternal {\r\n  public mapCoordsMin: WorldCoordinates;\r\n  public mapCoordsMax: WorldCoordinates;\r\n  public centerCanvasCoords: WorldCoordinates;\r\n  private backgroundCanvas: HTMLCanvasElement;\r\n  private rendererCanvas: HTMLCanvasElement;\r\n  private translateCoords: WorldCoordinates;\r\n  private settings: MapSettings;\r\n  public centralObject: WorldObjectInternal;\r\n  private screenContextCenterRect = {\r\n    min: { x: 0, y: 0 },\r\n    max: { x: 0, y: 0 },\r\n    initialized: false\r\n  };\r\n  public getMapSize(): {\r\n    min: WorldCoordinates;\r\n    max: WorldCoordinates\r\n  } {\r\n    return {\r\n      min: { x: 0, y: 0 },\r\n      max: { x: this.settings.map.mapWidth, y: this.settings.map.mapHeight }\r\n    };\r\n  }\r\n\r\n  public genWorldCoords(filter: (coords: WorldCoordinates) => boolean):\r\n    WorldCoordinates {\r\n    const min = this.mapCoordsMin;\r\n    const max = this.mapCoordsMax;\r\n    const x = Math.floor(Math.random() * (max.x - min.x) * 0.999) + min.x;\r\n    const y = Math.floor(Math.random() * (max.y - min.y) * 0.999) + min.y;\r\n    const coords = { x, y };\r\n    if (filter(coords)) {\r\n      return coords;\r\n    } else {\r\n      return this.genWorldCoords(filter);\r\n    }\r\n  }\r\n\r\n  public genWorldPassableCoords(): WorldCoordinates {\r\n    const min = this.mapCoordsMin;\r\n    const max = this.mapCoordsMax;\r\n    const x = Math.floor(Math.random() * (max.x - min.x) * 0.999) + min.x;\r\n    const y = Math.floor(Math.random() * (max.y - min.y) * 0.999) + min.y;\r\n    const coords = { x, y };\r\n    if (this.isPassable(coords)) {\r\n      return coords;\r\n    } else {\r\n      return this.genWorldPassableCoords();\r\n    }\r\n  }\r\n\r\n  constructor() { this.translateCoords = { x: 0, y: 0 }; }\r\n\r\n  private async constructMap(): Promise<void> {\r\n    if (isDebug()) {\r\n      console.log(\"LavaCanvasInternal::constructMap(): Constructing map...\");\r\n    }\r\n    this.mapCoordsMax = {\r\n      x: this.settings.map.mapWidth,\r\n      y: this.settings.map.mapHeight\r\n    };\r\n    this.mapCoordsMin = { x: 0, y: 0 };\r\n\r\n    // Create background renderer\r\n    this.backgroundCanvas = document.createElement(\"canvas\");\r\n    const canvasCoords = world2Canvas(this.mapCoordsMax);\r\n    this.backgroundCanvas.width = canvasCoords.x;\r\n    this.backgroundCanvas.height = canvasCoords.y;\r\n\r\n    this.rendererCanvas = document.createElement(\"canvas\");\r\n    this.rendererCanvas.width = canvasCoords.x;\r\n    this.rendererCanvas.height = canvasCoords.y;\r\n\r\n    // Draw assets\r\n    // console.debug('[IsometricMapService] Drawing background...')\r\n    const ctx = this.backgroundCanvas.getContext(\"2d\");\r\n    for (let x = this.mapCoordsMin.x; x < this.mapCoordsMax.x; x += 1) {\r\n      for (let y = this.mapCoordsMin.y; y < this.mapCoordsMax.y; y += 1) {\r\n        const tileIdx = this.settings.map.background[y][x];\r\n        if (tileIdx != null && this.settings.assets.length > tileIdx) {\r\n          const asset = this.settings.assets[tileIdx];\r\n          const canvasCoords = world2Canvas({ x, y });\r\n          ctx.drawImage(await asset.image(), canvasCoords.x, canvasCoords.y);\r\n        }\r\n      }\r\n    }\r\n    if (isDebug()) {\r\n      console.log(\"LavaCanvasInternal::constructMap(): Constructed!\");\r\n    }\r\n  }\r\n\r\n  public async setSettings(settings: MapSettings): Promise<void> {\r\n    if (isDebug()) {\r\n      console.log(`LavaCanvasInternal::setSettings(): Settings received!`);\r\n    }\r\n    this.settings = settings;\r\n    return this.constructMap();\r\n  }\r\n\r\n  public isPassable(coordinates: WorldCoordinates): boolean {\r\n    const type =\r\n      this.settings.map\r\n        .background[Math.round(coordinates.y)][Math.round(coordinates.x)];\r\n    if (type === TileType.Water || type === TileType.Lava) {\r\n      return false;\r\n    } else {\r\n      return type != null;\r\n    }\r\n  }\r\n\r\n  private getCurrentMap(): GameMap { return this.settings.map; }\r\n\r\n  async drawMap(ctx: CanvasRenderingContext2D,\r\n    extraObjects: WorldObjectInternal[] = []) {\r\n    if (this.settings == null) {\r\n      if (isDebug()) {\r\n        console.error(\r\n          \"LavaCanvasInternal::drawMap(): Background not ready to draw!\");\r\n      }\r\n      return;\r\n    }\r\n\r\n    const renderingCtx = this.rendererCanvas.getContext(\"2d\");\r\n\r\n    renderingCtx.drawImage(this.backgroundCanvas, 0, 0);\r\n\r\n    for (let extraObject of extraObjects) {\r\n      if (extraObject.hidden === false) {\r\n        const extraCoordinate = await extraObject.getCoordinate();\r\n        const canvasCoords = world2Canvas(extraCoordinate);\r\n        const asset = extraObject.asset;\r\n        const assetOffset = asset.offset();\r\n        renderingCtx.drawImage(await asset.image(),\r\n          canvasCoords.x - assetOffset.x,\r\n          canvasCoords.y - assetOffset.y);\r\n      }\r\n    }\r\n    const centerCoordinate = await this.centralObject.getCoordinate();\r\n    this.centerCanvasCoords = world2Canvas(centerCoordinate);\r\n    const assetCentralObject = this.centralObject.asset;\r\n    const assetOffsetCentralObject = assetCentralObject.offset();\r\n    renderingCtx.drawImage(\r\n      await assetCentralObject.image(),\r\n      this.centerCanvasCoords.x - assetOffsetCentralObject.x,\r\n      this.centerCanvasCoords.y - assetOffsetCentralObject.y);\r\n\r\n    let drawAgain = false;\r\n    if (!this.screenContextCenterRect.initialized) {\r\n      this.screenContextCenterRect = {\r\n        min: { x: ctx.canvas.width / 2, y: ctx.canvas.height / 2 },\r\n        max: { x: ctx.canvas.width / 2, y: ctx.canvas.height / 2 },\r\n        initialized: true\r\n      };\r\n    }\r\n\r\n    let translateCoordsThisTime = { x: 0, y: 0 };\r\n    if (this.centerCanvasCoords.x < this.screenContextCenterRect.min.x) {\r\n      translateCoordsThisTime.x =\r\n        this.screenContextCenterRect.min.x - this.centerCanvasCoords.x;\r\n    } else if (this.centerCanvasCoords.x > this.screenContextCenterRect.max.x) {\r\n      translateCoordsThisTime.x =\r\n        this.screenContextCenterRect.max.x - this.centerCanvasCoords.x;\r\n    }\r\n\r\n    if (this.centerCanvasCoords.y < this.screenContextCenterRect.min.y) {\r\n      translateCoordsThisTime.y =\r\n        this.screenContextCenterRect.min.y - this.centerCanvasCoords.y;\r\n    } else if (this.centerCanvasCoords.y > this.screenContextCenterRect.max.y) {\r\n      translateCoordsThisTime.y =\r\n        this.screenContextCenterRect.max.y - this.centerCanvasCoords.y;\r\n    }\r\n\r\n    this.screenContextCenterRect.max.x -= translateCoordsThisTime.x;\r\n    this.screenContextCenterRect.min.x -= translateCoordsThisTime.x;\r\n    this.screenContextCenterRect.max.y -= translateCoordsThisTime.y;\r\n    this.screenContextCenterRect.min.y -= translateCoordsThisTime.y;\r\n\r\n    ctx.translate(translateCoordsThisTime.x, translateCoordsThisTime.y);\r\n    this.translateCoords.x += translateCoordsThisTime.x;\r\n    this.translateCoords.y += translateCoordsThisTime.y;\r\n    const imageOffset = world2Canvas({ x: 0.5, y: 0.5 });\r\n\r\n    ctx.drawImage(this.rendererCanvas, -imageOffset.x, -imageOffset.y);\r\n  }\r\n\r\n  clearDraw() { this.screenContextCenterRect.initialized = undefined; }\r\n\r\n  getTranslateCoords() { return this.translateCoords; }\r\n}\r\n\r\nexport interface DrawObject {\r\n  coordinate: WorldCoordinates;\r\n  asset: Asset;\r\n}\r\n","import { WorldCoordinates } from \"../../../lavalandcommon\";\r\n\r\nlet unitAssetWidth = 31;\r\nlet unitAssetHeight = 31;\r\n\r\nexport function setAssetSize(width: number, height: number) {\r\n  unitAssetWidth = width;\r\n  unitAssetHeight = height;\r\n}\r\n\r\nexport function world2Canvas(coords: WorldCoordinates) {\r\n  return {\r\n    x: coords.x * unitAssetWidth,\r\n    y: coords.y * unitAssetHeight\r\n  };\r\n}\r\n\r\nexport function canvas2World(coords: WorldCoordinates) {\r\n  return {\r\n    x: coords.x / unitAssetWidth,\r\n    y: coords.y / unitAssetHeight\r\n  };\r\n}\r\n","import {WorldObjectInternal} from \"./worldobjectinternal\";\r\nimport {Asset} from \"./asset\";\r\nimport {Observable} from \"rxjs/internal/Observable\";\r\nimport {WorldCoordinates} from \"../../../lavalandcommon\";\r\nimport {TurnService} from \"../app/turn.service\";\r\nimport {take} from \"rxjs/internal/operators/take\";\r\n\r\nexport class WorldObject {\r\n  public coordinate: WorldCoordinates;\r\n  public coordinate$: Observable<WorldCoordinates>;\r\n  public turnService: TurnService;\r\n  constructor(public asset: Asset) {}\r\n  public oninit: (object: WorldObjectInternal) => void;\r\n  public onturn: (object: WorldObjectInternal) => void;\r\n  public onturnSlow: (object: WorldObjectInternal) => void;\r\n  public getCoordinate() { return this.coordinate; }\r\n}\r\n","import { WorldCoordinates } from \"../../../lavalandcommon\";\r\nimport { BehaviorSubject, Observable } from \"rxjs\";\r\nimport { Asset } from \"./asset\";\r\nimport { LavaCanvasInternal } from \"./lavacanvasinternal.service\";\r\nimport { WorldObject } from \"./worldobject\";\r\nimport { ReplaySubject } from \"rxjs\";\r\nimport { TurnEventSubscription } from \"../app/turnevent\";\r\nimport { TurnService } from \"../app/turn.service\";\r\nimport { take } from \"rxjs/internal/operators/take\";\r\nimport { canvas2World, world2Canvas } from \"./world2canvas\";\r\n\r\nexport class WorldObjectInternal {\r\n  private unitCoordinates: WorldCoordinates = { x: 1, y: 1 };\r\n  private coordinate = new ReplaySubject<WorldCoordinates>(1);\r\n  public coordinate$ = this.coordinate.asObservable();\r\n  public hidden: boolean = false;\r\n  readonly asset = this.object.asset;\r\n\r\n  constructor(\r\n    readonly turnService: TurnService,\r\n    private lavacanvasInternal: LavaCanvasInternal,\r\n    private object: WorldObject\r\n  ) {\r\n    this.object.coordinate$ = this.coordinate$;\r\n    this.coordinate$.subscribe(c => (object.coordinate = c));\r\n    this.object.turnService = this.turnService;\r\n    if (this.object.oninit) {\r\n      this.object.oninit(this);\r\n    }\r\n    this.turnService.register(\r\n      new TurnEventSubscription(\r\n        20,\r\n        () => {\r\n          this.turn();\r\n        },\r\n        8\r\n      )\r\n    );\r\n  }\r\n\r\n  public setCoordinate(coor: WorldCoordinates): void {\r\n    if (this.lavacanvasInternal.isPassable(coor)) {\r\n      this.coordinate.next(coor);\r\n    }\r\n  }\r\n\r\n  public setRandomCoordinate(): WorldCoordinates {\r\n    const coord = this.lavacanvasInternal.genWorldPassableCoords();\r\n    this.setCoordinate(coord);\r\n    return coord;\r\n  }\r\n\r\n  public getCoordinate(): Promise<WorldCoordinates> {\r\n    return this.coordinate$.pipe(take(1)).toPromise();\r\n  }\r\n\r\n  public remove(): void {}\r\n\r\n  public turn() {\r\n    if (this.object.onturn) {\r\n      this.object.onturn(this);\r\n    }\r\n  }\r\n\r\n  public async move(\r\n    movement: WorldCoordinates = { x: 0, y: 0 },\r\n    showBlur = true\r\n  ): Promise<number> {\r\n    const coordinateCanvas = await this.getCoordinate();\r\n    const coordinate = coordinateCanvas;\r\n    const fncShowBlur = (x, y) => {\r\n      if (showBlur === true) {\r\n        this.object.asset.showMotionBlur(\r\n          Math.abs(Math.round(movement.x * 2)),\r\n          Math.abs(Math.round(movement.y * 2))\r\n        );\r\n      }\r\n    };\r\n    const fncMoveExact = () => {\r\n      const nextCoordinates = {\r\n        x: coordinate.x + movement.x,\r\n        y: coordinate.y + movement.y\r\n      };\r\n      if (this.lavacanvasInternal.isPassable(nextCoordinates)) {\r\n        this.setCoordinate(nextCoordinates);\r\n        fncShowBlur(movement.x, movement.y);\r\n        return Math.sqrt(movement.x * movement.x + movement.y * movement.y);\r\n      } else {\r\n        return 0;\r\n      }\r\n    };\r\n    const fncMoveY = () => {\r\n      const nextCoordinates = {\r\n        x: coordinate.x,\r\n        y: coordinate.y + movement.y\r\n      };\r\n      if (this.lavacanvasInternal.isPassable(nextCoordinates)) {\r\n        this.setCoordinate(nextCoordinates);\r\n        fncShowBlur(0, movement.y);\r\n        return Math.abs(movement.y);\r\n      } else {\r\n        return 0;\r\n      }\r\n    };\r\n    const fncMoveX = () => {\r\n      const nextCoordinates = {\r\n        x: coordinate.x + movement.x,\r\n        y: coordinate.y\r\n      };\r\n      if (this.lavacanvasInternal.isPassable(nextCoordinates)) {\r\n        this.setCoordinate(nextCoordinates);\r\n        fncShowBlur(movement.x, 0);\r\n        return Math.abs(movement.x);\r\n      } else {\r\n        return 0;\r\n      }\r\n    };\r\n\r\n    const exactMovement = fncMoveExact();\r\n    if (exactMovement === 0) {\r\n      const yMovement = fncMoveY();\r\n      if (yMovement === 0) {\r\n        const xMovement = fncMoveX();\r\n        if (xMovement === 0) {\r\n          fncShowBlur(0, 0);\r\n          return 0;\r\n        } else {\r\n          return xMovement;\r\n        }\r\n      } else {\r\n        return yMovement;\r\n      }\r\n    } else {\r\n      return exactMovement;\r\n    }\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}